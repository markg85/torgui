!function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var o={};t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,o){"use strict";function n(){localStorage.welcomeMessageVersion||(localStorage.welcomeMessageVersion="0.0.0")}function r(){return localStorage&&localStorage.welcomeMessageVersion?(localStorage.welcomeMessageVersion=p,localStorage.welcomeMessageVersion):p}function s(){return!(localStorage.welcomeMessageVersion<p)}function i(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,o=e+"",n=t-o.length-1;n>=0;n--)o="0"+o;return o}function a(e){var t="",o="";if(!e.error&&e.results.length>0){o=e.meta.images.medium,t=e.meta.name,e.results[0].season&&(t+=" S"+i(e.results[0].season)+"E"+i(e.results[0].episode)),d=$("#searchfield").val(),$("#searchfield").val(""),$("#showThumb").attr("src",o),$("#showInfo .col-lg-3 .caption h3").text(t),e["1080p"]||(e["1080p"]=[]),e["720p"]||(e["720p"]=[]),e.sd||(e.sd=[]);for(var n=e.results[0].torrents,r=[n["1080p"].length,n["720p"].length,n.sd.length],s=Math.max.apply(Math,r),a=document.getElementById("torrentEntry"),l=document.getElementById("episodeLinks").getElementsByTagName("tbody")[0],c=["1080p","720p","sd"],u=0;u<s;u++){var p=a.content.cloneNode(!0),f=p.querySelectorAll("td");f[0].textContent=u+1;for(var h=1;h<4;h++){var m=n[c[h-1]][u];if(m){var g=f[h],v=g.getElementsByClassName("badge-torgui")[0],y=g.getElementsByClassName("extra")[0],w=g.getElementsByTagName("a")[0];v.className+=" "+m.classification.codec,y.textContent="("+m.classification.source+") "+m.sizeHumanReadable,w.href=m.url}else f[h].textContent=""}l.appendChild(p)}$("#showInfo").fadeIn()}}function l(e){u.spin(document.getElementById("center"));var t=e.trim();if(""==t)return u.stop(),void alert("Empty query. Not doing anything.");t.startsWith("!")||t.startsWith("tt")||t.startsWith("imdb:")||t.startsWith("latest:")||(t="latest:"+t),t.startsWith("!")&&(t=t.substr(1)),$("#showInfo").fadeOut(),$("#showThumb").attr("src",""),$("#showInfo .col-lg-3 .caption h3").text(""),$("#episodeLinks > tbody tr").remove(),console.log(t),$.ajax("https://tor.sc2.nl/search/"+t).done(function(e){console.log(e),a(e),u.stop()}).fail(function(){u.stop(),alert("error")})}var c=o(1),u=new c.Spinner,p="0.1.0",d="";$(document).ready(function(){n(),console.log(localStorage.welcomeMessageVersion),$("#welcomeMessage").css("display",0==s()?"block":"none"),$("#welcomeMessage > button").click(function(){r()}),$("#searchfieldRefresh").click(function(){l(d)}),$("#searchfieldSubmit").click(function(){l($("#searchfield").val())}),$("#searchfield").keypress(function(e){if(13==e.which)return l($("#searchfield").val()),!1})})},function(e,t,o){"use strict";function n(e,t){return e/1e3*t}function r(e,t,o){var n=(e+1)/o.lines,r=t-n*o.direction;(r<0||r>1)&&(r+=o.direction);var s=o.trail/100,i=1-r/s;return i<0?o.opacity:i*(1-o.opacity)+o.opacity}function s(e,t){void 0===t&&(t={});var o=document.createElement(e);for(var n in t)o[n]=t[n];return o}function i(e,t){if(void 0!==e.style[t])return t;var o="ms"+t.charAt(0).toUpperCase()+t.slice(1);return void 0!==e.style[o]?o:""}function a(e,t){for(var o in t)e.style[i(e,o)||o]=t[o];return e}function l(e,t){return"string"==typeof e?e:e[t%e.length]}function c(e,t){for(var o=0;o<t.lines;o++){var n=a(s("div"),{position:"absolute",top:1+~(t.scale*t.width/2)+"px",opacity:t.opacity});t.shadow&&n.appendChild(a(u("#000","0 0 4px #000",t,o),{top:"2px"})),n.appendChild(u(l(t.color,o),"0 0 1px rgba(0,0,0,.1)",t,o)),e.appendChild(n)}return e}function u(e,t,o,n){return a(s("div"),{position:"absolute",width:o.scale*(o.length+o.width)+"px",height:o.scale*o.width+"px",background:e,boxShadow:t,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*n+o.rotate)+"deg) translate("+o.scale*o.radius+"px,0)",borderRadius:(o.corners*o.scale*o.width>>1)+"px"})}Object.defineProperty(t,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},d={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,position:"absolute"},f=function(){function e(e){void 0===e&&(e={}),this.opts=p({},d,e)}return e.prototype.spin=function(e){var t=this;this.stop(),this.el=s("div",{className:this.opts.className}),this.el.setAttribute("role","progressbar"),a(this.el,{position:this.opts.position,width:0,zIndex:this.opts.zIndex,left:this.opts.left,top:this.opts.top}),e&&e.insertBefore(this.el,e.firstChild||null);var o,i;"undefined"!=typeof requestAnimationFrame?(o=requestAnimationFrame,i=function(){return performance.now()}):(o=function(e){return setTimeout(e,1e3/t.opts.fps)},i=function(){return Date.now()});var l,u=0;return c(this.el,this.opts),function e(){var s=i();void 0===l&&(l=s-1),u+=n(s-l,t.opts.speed),l=s,u>1&&(u-=Math.floor(u));for(var a=0;a<t.opts.lines;a++)if(a<t.el.childNodes.length){var c=r(a,u,t.opts);t.el.childNodes[a].style.opacity=c.toString()}t.animateId=t.el?o(e):void 0}(),this},e.prototype.stop=function(){return this.el&&("undefined"!=typeof requestAnimationFrame?cancelAnimationFrame(this.animateId):clearTimeout(this.animateId),this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.el=void 0),this},e}();t.Spinner=f}]);